<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:p="http://primefaces.prime.com.tr/ui">

<h:head>
	<link type="text/css" rel="stylesheet"
		href="#{facesContext.externalContext.requestContextPath}/resources/css/style.css" />
</h:head>
<h:body>
	<ui:composition template="/templates/main.xhtml">

		<ui:define name="corpo">


			<h:form  prependId="false" resizable="false">


				<br></br>
				<p:panel header="${msgs.buscar_cliente}">
                    <br></br>
					<div align="center" style="border: 1">

						<h:panelGrid columns="1" id="grid">

							<!-- NOME -->
							<h:outputLabel value="*${msgs.nome}:"></h:outputLabel>
							<p:inputText value="#{clienteVisao.cliente.nome}" size="35"
								required="true" requiredMessage="${msgs.informe_nome}"></p:inputText>

							<br></br>

							<!-- BOTÃƒO PESQUISA POR NOME -->
							<p:commandButton value="${msgs.buscar}"
								actionListener="#{clienteVisao.salvar}" update="panel,display"
								image="ui-icon ui-icon-search" ajax="false" />
                          
                          	<!-- BOTÃƒO PESQUISAR TODOS -->
							<p:commandButton value="Busca Todos"
								actionListener="#{clienteVisao.pesquisar}" update="panel,display"
								image="ui-icon ui-icon-search" ajax="false"  />
                          
                          
						</h:panelGrid>

					</div>
					<br></br>
					
						<!-- DATATABLE - PAGINATION -->
				     
						<p:dataTable var="listaClientes" value="#{clienteVisao.listaClientes}" paginator="true"
							rows="10" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink}
							      {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
							rowsPerPageTemplate="5,10,15" emptyMessage="${msgs.nenhum_registro}" ajax="false" immediate="true" rendered="true"
							 update="panel,display"  >
							<f:facet name="header">  
                               <h:outputLabel value="${msgs.cliente}"/>  
                              </f:facet>

							<p:column>	<!-- NOME -->
								<f:facet name="header">
									<h:outputText value="${msgs.nome}" />
								</f:facet>
								<h:outputText value="#{listaClientes.nome}" />
							</p:column>

							<p:column>	<!--E-MAIL -->
								<f:facet name="header">
									<h:outputText value="${msgs.email}" />
								</f:facet>
								<h:outputText value="#{listaClientes.email}" />
							</p:column>

							<p:column> <!-- TELEFONE -->
								<f:facet name="header">
									<h:outputText value="${msgs.telefone}" />
								</f:facet>
								<h:outputText value="#{listaClientes.telefone}" />
							</p:column>

							<p:column>  <!--SEXO -->
								<f:facet name="header">
									<h:outputText value="${msgs.sexo}" />
								</f:facet>
								<h:outputText value="#{listaClientes.sexo}" />
							</p:column>
							
						</p:dataTable>
						
                    <br></br>
                 <a href="#{facesContext.externalContext.requestContextPath}/pages/inicio.jsf">
	   		    Voltar
	   		    </a>
	   		    <br />
	   		    <br />
   				<a href="#{facesContext.externalContext.requestContextPath}/j_spring_security_logout">
   				Sair
   				</a>	   		 
				</p:panel>
			</h:form>
             
		</ui:define>

	</ui:composition>
</h:body>
</html>


